{% extends 'base1.html' %}

{% load i18n %}

{% load quiz_tags %}

{% block title %} {% trans "Progress Page" %} {% endblock %}
{% block description %} {% trans "User Progress Page" %} {% endblock %}

{% block hi %}
	[ users-chart.html ]
{% endblock %}

{% block stylesheets %}
	  {% load staticfiles %}
	<link rel="stylesheet" type="text/css"
	href="{% static 'users/css/form-register.css' %}" />
{% endblock %}
		<script src="{% static 'users/js/jquery-3.3.1.min.js' %}"></script>
   		<script src="{% static 'users/js/materialize.min.js' %}"></script>
   		
<script type="text/javascript">
	/*var endpoint ='/users/userprogress'

	$.ajax({
		method:"GET",
		url:endpoint,
		success:function(data){
			console.log(data.customers*100)
		},
		error:function(error_data){
			console.log("error")
			console.log(error_data)
		}
	})*/

</script>



{% block content %}
	<div class="row">
		<div class="col s8" url-endpoint='{% url "progress" %}'>
			<h5>Your Profile Details</h5>
		</div>
		<div class="col s4">
			<h5><a href="../userchart">View your Progress</a></h5>
		</div>
	</div>
	<div class="row">
		<div class="col s12">
			<div class="container">
			<canvas id="myChart"></canvas>
		   </div>
		</div>  
	</div>
	


	<script type="text/javascript">
		let myChart = document.getElementById('myChart').getContext('2d');
		let barChart = new Chart(myChart, {type:'bar',
			data:{
				labels:[{% for exam in exams %}{{ exam.quiz.title }}{% endfor %} ],
				datasets:[{
					label:'marks',
					data:[
					 {% for exam in exams %}{{ exam.get_percent_correct }}{% endfor %}]
				}],
			},
			options:{}
		});
	</script>

{% endblock %}